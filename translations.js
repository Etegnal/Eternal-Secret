// Dil çevirileri
const translations = {
    tr: {
        // Ana sayfa
        mainTitle: "ETERNAL SECRET",
        subtitle: "CAN YOU FIND IT WITHOUT FAULT?",
        playButton: "PLAY",
        
        // Header
        otherSites: "Diğer Siteler",
        howToPlay: "Nasıl Oynanır?",
        contactUs: "İletişim",
        settings: "Ayarlar",
        
        // Team setup sayfası
        teamSetupTitle: "Takım ve Oyun<br>Kurulumu",
        teamCount: "Takım Sayısı:",
        roundTime: "Tur Süresi (saniye):",
        team1: "Takım 1:",
        team2: "Takım 2:",
        team3: "Takım 3:",
        team4: "Takım 4:",
        teamNamePlaceholder: "Takım adı girin",
        startGame: "OYNA",
        
        // Game sayfası
        correct: "DOĞRU",
        pass: "PASS",
        foul: "FAUL!",
        currentTeam: "Takım 1",
        overlayText: "CAN YOU FIND IT WITHOUT FAULT?",
        
        // Settings sayfası
        settingsTitle: "Ayarlar",
        language: "Dil / Language",
        theme: "Tema / Theme",
        lightTheme: "Açık Tema",
        darkTheme: "Koyu Tema",
        back: "Geri",
        save: "Kaydet",
        
        // Footer
        copyright: "© 2025 Eternal Secret. All rights reserved.",
        
        // İletişim sayfası
        contactTitle: "İletişim",
        contactUs: "Bize Ulaşın",
        contactDescription: "Yeni kelimeler önerin, isteklerinizi paylaşın veya sorularınızı sorun.",
        fullName: "Ad Soyad:",
        email: "E-posta:",
        wordCard: "Kelime Kartı:",
        message: "Mesaj (İsteğe bağlı):",
        fullNamePlaceholder: "Adınızı ve soyadınızı girin",
        emailPlaceholder: "E-posta adresinizi girin",
        wordCardPlaceholder: "Önerdiğiniz kelimeyi ve yasaklı kelimeleri buraya yazın...",
        messagePlaceholder: "Ek mesajınızı buraya yazabilirsiniz...",
        back: "Geri",
        send: "Gönder",
        sendSuccess: "Mesajınız başarıyla gönderildi!",
        sendError: "Mesaj gönderilirken bir hata oluştu. Lütfen tekrar deneyin.",
        validationFullName: "Lütfen adınızı ve soyadınızı girin.",
        validationEmail: "Lütfen e-posta adresinizi girin.",
        validationEmailInvalid: "Lütfen geçerli bir e-posta adresi girin.",
        validationWordCard: "Lütfen kelime kartı alanını doldurun."
    },
    
    en: {
        // Ana sayfa
        mainTitle: "ETERNAL SECRET",
        subtitle: "CAN YOU FIND IT WITHOUT FAULT?",
        playButton: "PLAY",
        
        // Header
        otherSites: "Other Sites",
        howToPlay: "How to Play?",
        contactUs: "Contact Us",
        settings: "Settings",
        
        // Team setup sayfası
        teamSetupTitle: "Team and Game<br>Setup",
        teamCount: "Team Count:",
        roundTime: "Round Time (seconds):",
        team1: "Team 1:",
        team2: "Team 2:",
        team3: "Team 3:",
        team4: "Team 4:",
        teamNamePlaceholder: "Enter team name",
        startGame: "PLAY",
        
        // Game sayfası
        correct: "CORRECT",
        pass: "PASS",
        foul: "FOUL!",
        currentTeam: "Team 1",
        overlayText: "CAN YOU FIND IT WITHOUT FAULT?",
        
        // Settings sayfası
        settingsTitle: "Settings",
        language: "Language / Dil",
        theme: "Theme / Tema",
        lightTheme: "Light Theme",
        darkTheme: "Dark Theme",
        back: "Back",
        save: "Save",
        
        // Footer
        copyright: "© 2025 Eternal Secret. All rights reserved.",
        
        // İletişim sayfası
        contactTitle: "Contact",
        contactUs: "Contact Us",
        contactDescription: "Suggest new words, share your requests or ask questions.",
        fullName: "Full Name:",
        email: "Email:",
        wordCard: "Word Card:",
        message: "Message (Optional):",
        fullNamePlaceholder: "Enter your full name",
        emailPlaceholder: "Enter your email address",
        wordCardPlaceholder: "Write your suggested word and forbidden words here...",
        messagePlaceholder: "You can write your additional message here...",
        back: "Back",
        send: "Send",
        sendSuccess: "Your message has been sent successfully!",
        sendError: "An error occurred while sending the message. Please try again.",
        validationFullName: "Please enter your full name.",
        validationEmail: "Please enter your email address.",
        validationEmailInvalid: "Please enter a valid email address.",
        validationWordCard: "Please fill in the word card field."
    },
    
    de: {
        // Ana sayfa
        mainTitle: "ETERNAL SECRET",
        subtitle: "KANNST DU ES OHNE FEHLER FINDEN?",
        playButton: "SPIELEN",
        
        // Header
        otherSites: "Andere Seiten",
        howToPlay: "Wie spielt man?",
        contactUs: "Kontakt",
        settings: "Einstellungen",
        
        // Team setup sayfası
        teamSetupTitle: "Team und Spiel<br>Einrichtung",
        teamCount: "Team Anzahl:",
        roundTime: "Rundenzeit (Sekunden):",
        team1: "Team 1:",
        team2: "Team 2:",
        team3: "Team 3:",
        team4: "Team 4:",
        teamNamePlaceholder: "Teamname eingeben",
        startGame: "SPIELEN",
        
        // Game sayfası
        correct: "RICHTIG",
        pass: "PASS",
        foul: "FOUL!",
        currentTeam: "Team 1",
        overlayText: "KANNST DU ES OHNE FEHLER FINDEN?",
        
        // Settings sayfası
        settingsTitle: "Einstellungen",
        language: "Sprache / Language",
        theme: "Theme / Tema",
        lightTheme: "Helles Theme",
        darkTheme: "Dunkles Theme",
        back: "Zurück",
        save: "Speichern",
        
        // Footer
        copyright: "© 2025 Eternal Secret. Alle Rechte vorbehalten.",
        
        // İletişim sayfası
        contactTitle: "Kontakt",
        contactUs: "Kontaktieren Sie uns",
        contactDescription: "Schlagen Sie neue Wörter vor, teilen Sie Ihre Wünsche mit oder stellen Sie Fragen.",
        fullName: "Vollständiger Name:",
        email: "E-Mail:",
        wordCard: "Wortkarte:",
        message: "Nachricht (Optional):",
        fullNamePlaceholder: "Geben Sie Ihren vollständigen Namen ein",
        emailPlaceholder: "Geben Sie Ihre E-Mail-Adresse ein",
        wordCardPlaceholder: "Schreiben Sie hier Ihr vorgeschlagenes Wort und verbotene Wörter...",
        messagePlaceholder: "Sie können hier Ihre zusätzliche Nachricht schreiben...",
        back: "Zurück",
        send: "Senden",
        sendSuccess: "Ihre Nachricht wurde erfolgreich gesendet!",
        sendError: "Beim Senden der Nachricht ist ein Fehler aufgetreten. Bitte versuchen Sie es erneut.",
        validationFullName: "Bitte geben Sie Ihren vollständigen Namen ein.",
        validationEmail: "Bitte geben Sie Ihre E-Mail-Adresse ein.",
        validationEmailInvalid: "Bitte geben Sie eine gültige E-Mail-Adresse ein.",
        validationWordCard: "Bitte füllen Sie das Wortkartenfeld aus."
    },
    
    fr: {
        // Ana sayfa
        mainTitle: "ETERNAL SECRET",
        subtitle: "PEUX-TU LE TROUVER SANS FAUTE?",
        playButton: "JOUER",
        
        // Header
        otherSites: "Autres Sites",
        howToPlay: "Comment Jouer?",
        contactUs: "Contactez-nous",
        settings: "Paramètres",
        
        // Team setup sayfası
        teamSetupTitle: "Configuration<br>d'Équipe et de Jeu",
        teamCount: "Nombre d'Équipes:",
        roundTime: "Temps de Tour (secondes):",
        team1: "Équipe 1:",
        team2: "Équipe 2:",
        team3: "Équipe 3:",
        team4: "Équipe 4:",
        teamNamePlaceholder: "Entrez le nom de l'équipe",
        startGame: "JOUER",
        
        // Game sayfası
        correct: "CORRECT",
        pass: "PASS",
        foul: "FAUTE!",
        currentTeam: "Équipe 1",
        overlayText: "PEUX-TU LE TROUVER SANS FAUTE?",
        
        // Settings sayfası
        settingsTitle: "Paramètres",
        language: "Langue / Language",
        theme: "Thème / Tema",
        lightTheme: "Thème Clair",
        darkTheme: "Thème Sombre",
        back: "Retour",
        save: "Enregistrer",
        
        // Footer
        copyright: "© 2025 Eternal Secret. Tous droits réservés.",
        
        // İletişim sayfası
        contactTitle: "Contact",
        contactUs: "Contactez-nous",
        contactDescription: "Suggérez de nouveaux mots, partagez vos demandes ou posez des questions.",
        fullName: "Nom complet:",
        email: "E-mail:",
        wordCard: "Carte de mot:",
        message: "Message (Optionnel):",
        fullNamePlaceholder: "Entrez votre nom complet",
        emailPlaceholder: "Entrez votre adresse e-mail",
        wordCardPlaceholder: "Écrivez ici votre mot suggéré et les mots interdits...",
        messagePlaceholder: "Vous pouvez écrire votre message supplémentaire ici...",
        back: "Retour",
        send: "Envoyer",
        sendSuccess: "Votre message a été envoyé avec succès!",
        sendError: "Une erreur s'est produite lors de l'envoi du message. Veuillez réessayer.",
        validationFullName: "Veuillez entrer votre nom complet.",
        validationEmail: "Veuillez entrer votre adresse e-mail.",
        validationEmailInvalid: "Veuillez entrer une adresse e-mail valide.",
        validationWordCard: "Veuillez remplir le champ de la carte de mot."
    }
};

// Mevcut dili al
function getCurrentLanguage() {
    const savedSettings = localStorage.getItem('gameSettings');
    if (savedSettings) {
        const settings = JSON.parse(savedSettings);
        return settings.language || 'tr';
    }
    return 'tr';
}

// Metni çevir
function translate(key) {
    const currentLang = getCurrentLanguage();
    return translations[currentLang][key] || translations['tr'][key] || key;
}

// Sayfadaki tüm metinleri güncelle
function updatePageLanguage() {
    const currentLang = getCurrentLanguage();
    
    // Ana sayfa elementleri
    const mainTitle = document.querySelector('.main-title');
    if (mainTitle) mainTitle.innerHTML = translate('mainTitle');
    
    const subtitle = document.querySelector('.subtitle');
    if (subtitle) subtitle.textContent = translate('subtitle');
    
    const playBtn = document.querySelector('.play-btn');
    if (playBtn) playBtn.textContent = translate('playButton');
    
    // Header elementleri - sadece metin içeriğini değiştir, pozisyonları koru
    const navLinks = document.querySelectorAll('.nav-link');
    navLinks.forEach((link, index) => {
        const currentText = link.textContent.trim();
        let newText = '';
        
        if (index === 0) newText = translate('otherSites');
        else if (index === 1) newText = translate('howToPlay');
        else if (index === 2) newText = translate('contactUs');
        else if (index === 3) newText = translate('settings');
        
        // Sadece metin değişmişse güncelle
        if (currentText !== newText) {
            link.textContent = newText;
        }
    });
    
    // Team setup sayfası
    const teamSetupTitle = document.querySelector('.setup-content h2');
    if (teamSetupTitle) teamSetupTitle.innerHTML = translate('teamSetupTitle');
    
    const teamCountLabel = document.querySelector('label[for="teamCount"]');
    if (teamCountLabel) teamCountLabel.textContent = translate('teamCount');
    
    const roundTimeLabel = document.querySelector('label[for="roundTime"]');
    if (roundTimeLabel) roundTimeLabel.textContent = translate('roundTime');
    
    const startBtn = document.querySelector('.start-btn');
    if (startBtn) startBtn.textContent = translate('startGame');
    
    // Game sayfası
    const correctBtn = document.querySelector('.correct-btn');
    if (correctBtn) correctBtn.textContent = translate('correct');
    
    const passBtn = document.querySelector('.pass-btn');
    if (passBtn) passBtn.textContent = translate('pass');
    
    const foulBtn = document.querySelector('.foul-btn');
    if (foulBtn) foulBtn.textContent = translate('foul');
    
    const overlayText = document.querySelector('.overlay-text');
    if (overlayText) overlayText.textContent = translate('overlayText');
    
    // Settings sayfası
    const settingsTitle = document.querySelector('.settings-content h2');
    if (settingsTitle) settingsTitle.textContent = translate('settingsTitle');
    
    const backBtn = document.querySelector('.back-btn');
    if (backBtn) backBtn.textContent = translate('back');
    
    const saveBtn = document.querySelector('.save-btn');
    if (saveBtn) saveBtn.textContent = translate('save');
    
    // Footer
    const footer = document.querySelector('.footer p');
    if (footer) footer.textContent = translate('copyright');
    
    // Team input labels
    const teamLabels = document.querySelectorAll('.team-input label');
    teamLabels.forEach((label, index) => {
        if (index === 0) label.textContent = translate('team1');
        else if (index === 1) label.textContent = translate('team2');
        else if (index === 2) label.textContent = translate('team3');
        else if (index === 3) label.textContent = translate('team4');
    });
    
    // Team input placeholders
    const teamInputs = document.querySelectorAll('.team-input input');
    teamInputs.forEach(input => {
        input.placeholder = translate('teamNamePlaceholder');
    });
    
    // Game sayfası - current team text
    const currentTeamText = document.getElementById('currentTeam');
    if (currentTeamText) {
        const teamNumber = currentTeamText.textContent.match(/\d+/);
        if (teamNumber) {
            currentTeamText.textContent = translate('currentTeam').replace('1', teamNumber[0]);
        }
    }
    
    // Settings sayfası - button group titles
    const settingGroupTitles = document.querySelectorAll('.setting-group h3');
    settingGroupTitles.forEach((title, index) => {
        if (index === 0) title.textContent = translate('language');
        else if (index === 1) title.textContent = translate('theme');
    });
    
    // Settings sayfası - theme button texts
    const themeButtons = document.querySelectorAll('.setting-btn[id^="theme-"]');
    themeButtons.forEach(btn => {
        const theme = btn.id.replace('theme-', '');
        if (theme === 'light') btn.textContent = translate('lightTheme');
        else if (theme === 'dark') btn.textContent = translate('darkTheme');
    });
    
    // Settings sayfası - language button texts
    const langButtons = document.querySelectorAll('.setting-btn[id^="lang-"]');
    langButtons.forEach(btn => {
        const lang = btn.id.replace('lang-', '');
        if (lang === 'tr') btn.textContent = 'Türkçe';
        else if (lang === 'en') btn.textContent = 'English';
        else if (lang === 'de') btn.textContent = 'Deutsch';
        else if (lang === 'fr') btn.textContent = 'Français';
    });
    
    // İletişim sayfası
    const contactTitle = document.querySelector('.contact-content h2');
    if (contactTitle) contactTitle.textContent = translate('contactTitle');
    
    const contactUsTitle = document.querySelector('.contact-info h3');
    if (contactUsTitle) contactUsTitle.textContent = translate('contactUs');
    
    const contactDescription = document.querySelector('.contact-info p');
    if (contactDescription) contactDescription.textContent = translate('contactDescription');
    
    // Form labels
    const fullNameLabel = document.querySelector('label[for="fullName"]');
    if (fullNameLabel) fullNameLabel.textContent = translate('fullName');
    
    const emailLabel = document.querySelector('label[for="email"]');
    if (emailLabel) emailLabel.textContent = translate('email');
    
    const wordCardLabel = document.querySelector('label[for="wordCard"]');
    if (wordCardLabel) wordCardLabel.textContent = translate('wordCard');
    
    const messageLabel = document.querySelector('label[for="message"]');
    if (messageLabel) messageLabel.textContent = translate('message');
    
    // Form placeholders
    const fullNameInput = document.getElementById('fullName');
    if (fullNameInput) fullNameInput.placeholder = translate('fullNamePlaceholder');
    
    const emailInput = document.getElementById('email');
    if (emailInput) emailInput.placeholder = translate('emailPlaceholder');
    
    const wordCardTextarea = document.getElementById('wordCard');
    if (wordCardTextarea) wordCardTextarea.placeholder = translate('wordCardPlaceholder');
    
    const messageTextarea = document.getElementById('message');
    if (messageTextarea) messageTextarea.placeholder = translate('messagePlaceholder');
    
    // Buttons
    const backBtnContact = document.querySelector('.contact-buttons .back-btn');
    if (backBtnContact) backBtnContact.textContent = translate('back');
    
    const sendBtn = document.querySelector('.send-btn');
    if (sendBtn) sendBtn.textContent = translate('send');
    
    console.log('Sayfa dili güncellendi:', currentLang);
}
